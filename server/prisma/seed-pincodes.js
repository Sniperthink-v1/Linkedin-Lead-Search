const { PrismaClient } = require('@prisma/client');
const prisma = new PrismaClient();

// Static pin code database
const CITY_PIN_CODES = {
  // Delhi NCR
  'delhi': ['110001', '110002', '110003', '110004', '110005', '110006', '110007', '110008', '110009', '110010', '110011', '110012', '110013', '110014', '110015', '110016', '110017', '110018', '110019', '110020', '110021', '110022', '110023', '110024', '110025', '110026', '110027', '110028', '110029', '110030', '110031', '110032', '110033', '110034', '110035', '110036', '110037', '110038', '110039', '110040', '110041', '110042', '110043', '110044', '110045', '110046', '110047', '110048', '110049', '110051', '110052', '110053', '110054', '110055', '110056', '110057', '110058', '110059', '110060', '110061', '110062', '110063', '110064', '110065', '110066', '110067', '110068', '110069', '110070', '110071', '110072', '110073', '110074', '110075', '110076', '110077', '110078', '110080', '110081', '110082', '110083', '110084', '110085', '110086', '110087', '110088', '110089', '110090', '110091', '110092', '110093', '110094', '110095', '110096'],
  'new delhi': ['110001', '110002', '110003', '110011', '110021'],
  'noida': ['201301', '201302', '201303', '201304', '201305', '201306', '201307', '201308', '201309', '201310'],
  'gurgaon': ['122001', '122002', '122003', '122004', '122005', '122006', '122007', '122008', '122009', '122010', '122011', '122015', '122016', '122017', '122018', '122022'],
  'gurugram': ['122001', '122002', '122003', '122004', '122005', '122006', '122015', '122016', '122017', '122018'],
  'faridabad': ['121001', '121002', '121003', '121004', '121005', '121006', '121007', '121008', '121009', '121010'],
  'ghaziabad': ['201001', '201002', '201003', '201004', '201005', '201006', '201009', '201010', '201011', '201012'],
  
  // Mumbai
  'mumbai': ['400001', '400002', '400003', '400004', '400005', '400006', '400007', '400008', '400009', '400010', '400011', '400012', '400013', '400014', '400015', '400016', '400017', '400018', '400019', '400020', '400021', '400022', '400023', '400024', '400025', '400026', '400027', '400028', '400029', '400030', '400031', '400032', '400033', '400034', '400035', '400036', '400037', '400038', '400039', '400042', '400043', '400049', '400050', '400051', '400052', '400053', '400054', '400055', '400056', '400057', '400058', '400059', '400060', '400061', '400062', '400063', '400064', '400065', '400066', '400067', '400068', '400069', '400070', '400071', '400072', '400074', '400075', '400076', '400077', '400078', '400079', '400080', '400081', '400082', '400083', '400084', '400085', '400086', '400087', '400088', '400089', '400090', '400091', '400092', '400093', '400094', '400095', '400096', '400097', '400098', '400099', '400101', '400102', '400103', '400104', '400105'],
  'navi mumbai': ['400701', '400702', '400703', '400704', '400705', '400706', '400707', '400708', '400709', '400710'],
  'thane': ['400601', '400602', '400603', '400604', '400605', '400606', '400607', '400608', '400609', '400610'],
  
  // Bangalore
  'bangalore': ['560001', '560002', '560003', '560004', '560005', '560006', '560007', '560008', '560009', '560010', '560011', '560012', '560013', '560014', '560015', '560016', '560017', '560018', '560019', '560020', '560021', '560022', '560023', '560024', '560025', '560026', '560027', '560028', '560029', '560030', '560032', '560033', '560034', '560035', '560036', '560037', '560038', '560039', '560040', '560041', '560042', '560043', '560045', '560046', '560047', '560048', '560049', '560050', '560051', '560052', '560053', '560054', '560055', '560056', '560057', '560058', '560059', '560060', '560061', '560062', '560063', '560064', '560065', '560066', '560067', '560068', '560069', '560070', '560071', '560072', '560073', '560074', '560075', '560076', '560077', '560078', '560079', '560080', '560083', '560084', '560085', '560086', '560087', '560091', '560092', '560093', '560094', '560095', '560096', '560097', '560098', '560099', '560100'],
  'bengaluru': ['560001', '560002', '560003', '560004', '560005', '560006', '560007', '560008', '560009', '560010'],
  
  // Hyderabad
  'hyderabad': ['500001', '500002', '500003', '500004', '500005', '500006', '500007', '500008', '500009', '500010', '500011', '500012', '500013', '500015', '500016', '500017', '500018', '500020', '500022', '500023', '500024', '500025', '500026', '500027', '500028', '500029', '500030', '500031', '500032', '500033', '500034', '500035', '500036', '500038', '500039', '500040', '500041', '500042', '500043', '500044', '500045', '500046', '500047', '500048', '500049', '500050', '500051', '500052', '500053', '500054', '500055', '500056', '500057', '500058', '500059', '500060', '500061', '500062', '500063', '500064', '500065', '500066', '500067', '500068', '500069', '500070', '500071', '500072', '500073', '500074', '500075', '500076', '500077', '500078', '500079', '500080', '500081', '500082', '500083', '500084', '500085', '500086', '500087', '500088', '500089', '500090', '500091', '500092', '500093', '500094', '500095', '500096', '500097', '500098'],
  
  // Chennai
  'chennai': ['600001', '600002', '600003', '600004', '600005', '600006', '600007', '600008', '600009', '600010', '600011', '600012', '600013', '600014', '600015', '600016', '600017', '600018', '600019', '600020', '600021', '600022', '600023', '600024', '600025', '600026', '600027', '600028', '600029', '600030', '600031', '600032', '600033', '600034', '600035', '600036', '600037', '600038', '600039', '600040', '600041', '600042', '600043', '600044', '600045', '600046', '600047', '600048', '600049', '600050', '600051', '600052', '600053', '600054', '600055', '600056', '600057', '600058', '600059', '600060', '600061', '600062', '600063', '600064', '600065', '600066', '600067', '600068', '600069', '600070', '600071', '600072', '600073', '600074', '600075', '600076', '600077', '600078', '600079', '600080', '600081', '600082', '600083', '600084', '600085', '600086', '600087', '600088', '600089', '600090', '600091', '600092', '600093', '600094', '600095', '600096', '600097', '600098', '600099', '600100'],
  
  // Kolkata
  'kolkata': ['700001', '700002', '700003', '700004', '700005', '700006', '700007', '700008', '700009', '700010', '700011', '700012', '700013', '700014', '700015', '700016', '700017', '700018', '700019', '700020', '700021', '700022', '700023', '700024', '700025', '700026', '700027', '700028', '700029', '700030', '700031', '700032', '700033', '700034', '700035', '700036', '700037', '700038', '700039', '700040', '700041', '700042', '700043', '700044', '700045', '700046', '700047', '700048', '700049', '700050', '700051', '700052', '700053', '700054', '700055', '700056', '700057', '700058', '700059', '700060', '700061', '700062', '700063', '700064', '700065', '700066', '700067', '700068', '700069', '700070', '700071', '700072', '700073', '700074', '700075', '700076', '700077', '700078', '700079', '700080', '700081', '700082', '700083', '700084', '700085', '700086', '700087', '700088', '700089', '700090', '700091', '700092', '700093', '700094', '700095', '700096', '700097', '700098', '700099', '700100'],
  
  // Pune
  'pune': ['411001', '411002', '411003', '411004', '411005', '411006', '411007', '411008', '411009', '411010', '411011', '411012', '411013', '411014', '411015', '411016', '411017', '411018', '411019', '411020', '411021', '411022', '411023', '411024', '411025', '411026', '411027', '411028', '411029', '411030', '411031', '411032', '411033', '411034', '411035', '411036', '411037', '411038', '411039', '411040', '411041', '411042', '411043', '411044', '411045', '411046', '411047', '411048'],
  
  // Ahmedabad
  'ahmedabad': ['380001', '380002', '380003', '380004', '380005', '380006', '380007', '380008', '380009', '380010', '380013', '380014', '380015', '380016', '380018', '380019', '380021', '380022', '380023', '380024', '380025', '380026', '380027', '380028', '380050', '380051', '380052', '380053', '380054', '380055'],
  
  // Jaipur
  'jaipur': ['302001', '302002', '302003', '302004', '302005', '302006', '302012', '302013', '302015', '302016', '302017', '302018', '302019', '302020', '302021', '302022', '302023', '302025', '302026', '302027', '302028', '302029', '302031', '302032', '302033', '302034', '302036', '302037', '302038', '302039'],
  
  // Lucknow
  'lucknow': ['226001', '226002', '226003', '226004', '226005', '226006', '226007', '226008', '226009', '226010', '226011', '226012', '226013', '226014', '226015', '226016', '226017', '226018', '226019', '226020', '226021', '226022', '226023', '226024', '226025', '226026', '226027', '226028', '226029', '226030'],
  
  // Bhopal
  'bhopal': ['462001', '462002', '462003', '462004', '462005', '462006', '462007', '462008', '462009', '462010', '462011', '462012', '462013', '462014', '462015', '462016', '462017', '462018', '462019', '462020', '462021', '462022', '462023', '462024', '462025', '462026', '462027', '462028', '462029', '462030'],
  
  // Indore
  'indore': ['452001', '452002', '452003', '452004', '452005', '452006', '452007', '452008', '452009', '452010', '452011', '452012', '452013', '452014', '452015', '452016', '452017', '452018', '452020'],
  
  // Chandigarh
  'chandigarh': ['160001', '160002', '160003', '160004', '160005', '160006', '160007', '160008', '160009', '160010', '160011', '160012', '160014', '160015', '160016', '160017', '160018', '160019', '160020', '160022', '160023', '160030'],
  
  // Surat
  'surat': ['395001', '395002', '395003', '395004', '395005', '395006', '395007', '395008', '395009', '395010', '395011', '395012', '395013', '395017'],
  
  // Nagpur
  'nagpur': ['440001', '440002', '440003', '440004', '440005', '440006', '440008', '440009', '440010', '440012', '440013', '440014', '440015', '440016', '440017', '440018', '440020', '440022', '440023', '440024'],
  
  // Vadodara
  'vadodara': ['390001', '390002', '390003', '390004', '390005', '390006', '390007', '390008', '390009', '390010', '390011', '390012', '390013', '390014', '390015', '390016', '390017', '390018', '390019', '390020'],
  
  // Coimbatore
  'coimbatore': ['641001', '641002', '641003', '641004', '641005', '641006', '641007', '641008', '641009', '641010', '641011', '641012', '641013', '641014', '641015', '641016', '641017', '641018', '641019', '641020'],
  
  // Kochi
  'kochi': ['682001', '682002', '682003', '682004', '682005', '682006', '682007', '682008', '682009', '682010', '682011', '682012', '682013', '682014', '682015', '682016', '682017', '682018', '682019', '682020'],
  'cochin': ['682001', '682002', '682003', '682004', '682005', '682006', '682007', '682008', '682009', '682010'],
  
  // Visakhapatnam
  'visakhapatnam': ['530001', '530002', '530003', '530004', '530005', '530006', '530007', '530008', '530009', '530010', '530011', '530012', '530013', '530014', '530015', '530016', '530017', '530018', '530019', '530020'],
  'vizag': ['530001', '530002', '530003', '530004', '530005', '530006', '530007', '530008', '530009', '530010']
};

async function seedPinCodes() {
  console.log('üå± Starting pin code seeding...');
  
  let createdCount = 0;
  let skippedCount = 0;
  
  for (const [city, pinCodes] of Object.entries(CITY_PIN_CODES)) {
    try {
      // Check if city already exists
      const existing = await prisma.cityPinCode.findUnique({
        where: { city: city }
      });
      
      if (existing) {
        console.log(`‚è≠Ô∏è  Skipping ${city} - already exists`);
        skippedCount++;
        continue;
      }
      
      // Create new city pin code record
      await prisma.cityPinCode.create({
        data: {
          city: city,
          pinCodes: pinCodes,
          source: 'static'
        }
      });
      
      console.log(`‚úÖ Added ${city} with ${pinCodes.length} pin codes`);
      createdCount++;
      
    } catch (error) {
      console.error(`‚ùå Failed to seed ${city}:`, error.message);
    }
  }
  
  console.log('\nüìä Seeding Summary:');
  console.log(`   Created: ${createdCount} cities`);
  console.log(`   Skipped: ${skippedCount} cities (already exist)`);
  console.log(`   Total: ${Object.keys(CITY_PIN_CODES).length} cities`);
}

seedPinCodes()
  .then(() => {
    console.log('‚úÖ Pin code seeding completed!');
    prisma.$disconnect();
    process.exit(0);
  })
  .catch((error) => {
    console.error('‚ùå Seeding failed:', error);
    prisma.$disconnect();
    process.exit(1);
  });
